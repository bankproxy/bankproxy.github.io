(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{284:function(t,e,a){"use strict";a.r(e);var n=a(10),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"administrations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#administrations"}},[t._v("#")]),t._v(" Administrations")]),t._v(" "),e("p",[t._v("To interact with a bank account, BankProxy needs a configuration for "),e("strong",[t._v("every")]),t._v(" account you want to interact with. The exact configuration options depend on the used bank and can be found in "),e("a",{attrs:{href:"/connectors"}},[t._v("Connectors")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"create-a-connection-via-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-connection-via-api"}},[t._v("#")]),t._v(" Create A Connection Via API")]),t._v(" "),e("p",[t._v("To create a connection you need to send a JSON object via HTTP POST to the "),e("code",[t._v("/admin/api/connections")]),t._v(" endpoint. This endpoint requires a valid "),e("a",{attrs:{href:"https://jwt.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JWT"),e("OutboundLink")],1),t._v(" token with "),e("code",[t._v("aud")]),t._v(" set to the value of the "),e("code",[t._v("ADMIN_JWT_AUDIENCE")]),t._v(" environment variable signed with the "),e("code",[t._v("ADMIN_JWT_SECRET")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"jwt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jwt"}},[t._v("#")]),t._v(" JWT")]),t._v(" "),e("p",[t._v("The following JWT payload")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n  "aud": "bankproxy",\n  "sub": "admin",\n  "iat": 1577833200,\n  "exp": 1577833800\n}\n')])])]),e("p",[t._v("signed with the "),e("code",[t._v("HS256")]),t._v(" algorithm and the secret "),e("code",[t._v("your-256-bit-secret")]),t._v(" would look like:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJiYW5rcHJveHkiLCJzdWIiOiJhZG1pbiIsImlhdCI6MTU3NzgzMzIwMCwiZXhwIjoxNTc3ODMzODAwfQ.4ffP6sLo9a47O-2bNo_SNdb-f_PwvDuMLk8dUUmcsFc\n")])])]),e("p",[t._v("Please ensure that the "),e("em",[t._v("expires at")]),t._v(" property "),e("code",[t._v("exp")]),t._v(" is set correctly.")]),t._v(" "),e("h3",{attrs:{id:"create-the-connection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-the-connection"}},[t._v("#")]),t._v(" Create The Connection")]),t._v(" "),e("p",[t._v("With a valid JWT a HTTP request can be sent to bankproxy.")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token request-line"}},[e("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/admin/api/connections")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Bearer eyJhbGciOiJIUzI1NiIs...-f_PwvDuMLk8dUUmcsFc")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.test"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test Connection"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"config"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"IBAN"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AT251657674147449499"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),e("ul",[e("li",[e("code",[t._v("type")]),t._v(" must be a valid "),e("em",[t._v("connector id")]),t._v(" as listed at "),e("a",{attrs:{href:"/connectors"}},[t._v("Connectors")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("name")]),t._v(" is an optional name for the connection.")]),t._v(" "),e("li",[e("code",[t._v("config")]),t._v(" contains all configuration options for the type "),e("code",[t._v("type")]),t._v(".")])]),t._v(" "),e("p",[t._v("The server will then respond with a JSON object containing the credentials required to use the connection:")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token response-status"}},[e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token status-code number"}},[t._v("200")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[t._v("OK")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"credentials"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"clientId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18d81f83b5fb6bf354a36b29c8ca9cd7"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"clientSecret"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"894a90094f73d808eb46087715c4a2e2"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),e("h2",{attrs:{id:"create-a-connection-via-ui"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-connection-via-ui"}},[t._v("#")]),t._v(" Create A Connection Via UI")]),t._v(" "),e("p",[t._v("BankProxy provides a simple user interface for creating connections, which can be found at "),e("code",[t._v("/admin")]),t._v(" on the BankProxy instance.")])])}),[],!1,null,null,null);e.default=s.exports}}]);