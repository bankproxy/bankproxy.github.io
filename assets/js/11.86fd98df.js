(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{285:function(e,t,a){"use strict";a.r(t);var s=a(10),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),t("p",[e._v("BankProxy provides a pre-built Docker container for deployment. For a quick start it can be run with the following command:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-it")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3000")]),e._v(":3000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-e")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("BASE_URL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://localhost:3000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-e")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ADMIN_AUTHORIZE_URL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://localhost:3000/admin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-e")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ADMIN_JWT_SECRET")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("AdminJwtSecret "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  ghcr.io/bankproxy/bankproxy:latest "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" start init\n")])])]),t("p",[e._v("It provides the following environment variables for configuration:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("PORT")]),e._v(": Port to bind the service to, defaults to "),t("code",[e._v("3000")])]),e._v(" "),t("li",[t("code",[e._v("DATABASE_URL")]),e._v(": URL to the Database server, e.g. "),t("code",[e._v("postgres://user:pass@host/database")]),e._v(". If not specified, a temporary in-memory database without persistence will be used.")]),e._v(" "),t("li",[t("code",[e._v("SECRET_KEY")]),e._v(": Key for encryption, e.g. "),t("code",[e._v("2c31ff7560eddb214c85853b952af7ee")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("REDIS_URL")]),e._v(": URL to the Redis server, e.g. "),t("code",[e._v("redis://host")]),e._v(". If not specified, a temporary in-memory alternative will be used.")]),e._v(" "),t("li",[t("code",[e._v("BASE_URL")]),e._v(": Public base URL of the service, e.g. "),t("code",[e._v("https://bankproxy.example.com")]),e._v(". If run behind a reverse proxy, the public access URL should be set.")]),e._v(" "),t("li",[t("code",[e._v("ADMIN_AUTHORIZE_URL")]),e._v(": URL to redirect for authorization in the admin interface.")]),e._v(" "),t("li",[t("code",[e._v("ADMIN_JWT_ALGORITHM")]),e._v(": Algorithm used to sign the admin access JWT, defaults to "),t("code",[e._v("HS256")])]),e._v(" "),t("li",[t("code",[e._v("ADMIN_JWT_SECRET")]),e._v(": Secret used to sign the admin access JWT")]),e._v(" "),t("li",[t("code",[e._v("ADMIN_JWT_AUDIENCE")]),e._v(": Expected "),t("code",[e._v("aud")]),e._v(" in the admin access JWT")])]),e._v(" "),t("p",[e._v("As an alternative to passing sensitive information via environment variables, "),t("code",[e._v("_FILE")]),e._v(" may be appended to the previously listed environment variables, causing BankProxy to load the values for those variables from files instead.")]),e._v(" "),t("p",[e._v("Running the container with "),t("code",[e._v("npm start init")]),e._v(" will initialize all required resources like the database schema. Since this could destroy stored data it's recommended to run the container with the default command ("),t("code",[e._v("npm start")]),e._v(") to avoid accidental data loss.")]),e._v(" "),t("p",[t("strong",[e._v("The server must be run behind some HTTP reverse proxy with WebSocket support to be secure.")]),e._v(" Deployment without a reverse proxy should be used only in a setup, where the "),t("strong",[e._v("headless")]),e._v(" mode of BankProxy is the sole mode of operation.")])])}),[],!1,null,null,null);t.default=r.exports}}]);